<div class="px-5 py-3 bg-white rounded-4">
  @if (allBeans()) {
    <div>
      <h2 id="configuration-page-heading" data-cy="configurationPageHeading" jhiTranslate="configuration.title">Configuration</h2>

      <span jhiTranslate="configuration.filter">Filter (by prefix)</span>
      <input type="text" [ngModel]="beansFilter()" (ngModelChange)="beansFilter.set($event)" class="form-control mb-4" />

      <h3 id="spring-configuration">Spring configuration</h3>

      <table class="table table-responsive d-table bg-white" aria-describedby="spring-configuration">
        <thead>
          <tr jhiSort [(sortState)]="sortState">
            <th jhiSortBy="prefix" scope="col" class="w-50">
              <span jhiTranslate="configuration.table.prefix">Prefix</span> <fa-icon icon="sort"></fa-icon>
            </th>
            <th scope="col" class="w-50"><span jhiTranslate="configuration.table.properties">Properties</span></th>
          </tr>
        </thead>
        <tbody>
          @for (bean of beans(); track $index) {
            <tr>
              <td>
                <span>{{ bean.prefix }}</span>
              </td>
              <td>
                @for (property of bean.properties | keyvalue; track property.key) {
                  <div class="">
                    <div class="">{{ property.key }}</div>
                    <div class="">
                      <span class="float-end bg-secondary break">{{ property.value | json }}</span>
                    </div>
                  </div>
                }
              </td>
            </tr>
          }
        </tbody>
      </table>

      @for (propertySource of propertySources(); track i; let i = $index) {
        <div>
          <h4 [id]="'property-source-' + i">
            <span>{{ propertySource.name }}</span>
          </h4>
          <table class="table table-sm table-responsive d-table bg-white" [attr.aria-describedby]="'property-source-' + i">
            <thead>
              <tr>
                <th scope="col" class="w-40">Property</th>
                <th scope="col" class="w-60">Value</th>
              </tr>
            </thead>
            <tbody>
              @for (property of propertySource.properties | keyvalue; track property.key) {
                <tr>
                  <td class="break">{{ property.key }}</td>
                  <td class="break">
                    <span class="float-end bg-secondary break">{{ property.value.value }}</span>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      }
    </div>
  }
</div>
