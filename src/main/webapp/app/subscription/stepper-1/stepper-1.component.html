<p-stepper [(value)]="activeStep" class="d-flex flex-column justify-content-center align-items-center">
  <p-step-list class="w-75 mb-5">
    <p-step [value]="1" class="d-flex flex-row flex-grow-1">
      <ng-template #content let-activateCallback="activateCallback" let-value="value">
        <button class="bg-transparent border-0 d-flex flex-column align-items-center" (click)="activateCallback()">
          <span
            class="rounded-circle border border-2 d-flex align-items-center justify-content-center"
            style="width: 3rem; height: 3rem"
            [ngClass]="{
              'bg-primary text-white border-primary': value <= activeStep,
              'border-secondary text-dark': value > activeStep,
            }"
          >
            <fa-icon class="fs-5" icon="user"></fa-icon>
          </span>
        </button>
      </ng-template>
    </p-step>

    <p-step [value]="2" class="d-flex flex-row flex-grow-1">
      <ng-template #content let-activateCallback="activateCallback" let-value="value">
        <button class="bg-transparent border-0 d-flex flex-column align-items-center" (click)="activateCallback()">
          <span
            class="rounded-circle border border-2 d-flex align-items-center justify-content-center"
            style="width: 3rem; height: 3rem"
            [ngClass]="{
              'bg-primary text-white border-primary': value <= activeStep,
              'border-secondary text-dark': value > activeStep,
            }"
          >
            <fa-icon icon="car" class="fs-5"></fa-icon>
          </span>
        </button>
      </ng-template>
    </p-step>

    <p-step [value]="3" class="d-flex flex-row">
      <ng-template #content let-activateCallback="activateCallback" let-value="value">
        <button class="bg-transparent border-0 d-flex flex-c align-items-center" (click)="activateCallback()">
          <span
            class="rounded-circle border border-2 d-flex align-items-center justify-content-center"
            style="width: 3rem; height: 3rem"
            [ngClass]="{
              'bg-primary text-white border-primary': value <= activeStep,
              'border-secondary text-dark': value > activeStep,
            }"
          >
            <fa-icon icon="check" class="fs-5"></fa-icon>
          </span>
        </button>
      </ng-template>
    </p-step>

    <p-step [value]="4" class="d-flex flex-row">
      <ng-template #content let-activateCallback="activateCallback" let-value="value">
        <button class="bg-transparent border-0 d-flex flex-column align-items-center" (click)="activateCallback()">
          <span
            class="rounded-circle border border-2 d-flex align-items-center justify-content-center"
            style="width: 3rem; height: 3rem"
            [ngClass]="{
              'bg-primary text-white border-primary': value <= activeStep,
              'border-secondary text-dark': value > activeStep,
            }"
          >
            <fa-icon class="fs-5" icon="user"></fa-icon>
          </span>
        </button>
      </ng-template>
    </p-step>
  </p-step-list>
  <div class="container-fluid h-100 p-0 mb-0 bg-white-20 rounded-4">
    <p-step-panels>
      <p-step-panel [value]="1">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="d-flex justify-content-center align-items-center min-vh-25">
            <form class="w-100" [formGroup]="form">
              <formly-form [form]="form" [fields]="fields" [model]="model"></formly-form>
            </form>

            <pre class="mt-4 bg-light p-3 border rounded">{{ model | json }}</pre>

            <div>
              <p-button (onClick)="activateCallback(2)" label="Next" class="rounded-pill" [raised]="true" />
            </div>
          </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="2">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="d-flex flex-column mx-auto" style="min-height: 16rem; max-width: 24rem">
            <div class="text-center mt-4 mb-4 fs-4 fw-semibold">Choose your interests</div>
            <div class="d-flex flex-wrap justify-content-center gap-3"></div>
          </div>
          <div class="d-flex pt-4 justify-content-between">
            <p-button (onClick)="activateCallback(1)" label="Back" [rounded]="true" [raised]="true" />
            <p-button (onClick)="activateCallback(3)" label="Next" [rounded]="true" [raised]="true" />
          </div>
        </ng-template>
      </p-step-panel>

      <p-step-panel [value]="3">
        <ng-template #content let-activateCallback="activateCallback">
          <div class="d-flex pt-4 justify-content-start">
            <p-button (onClick)="activateCallback(2)" label="Back" [rounded]="true" [raised]="true" />
          </div>
        </ng-template>
      </p-step-panel>
    </p-step-panels>
    <div class="progress m-0 p-0 rounded-bottom-4">
      <div
        class="progress-bar bg-primary"
        role="progressbar"
        style="width: 25%"
        aria-valuenow="25"
        aria-valuemin="0"
        aria-valuemax="100"
      ></div>
    </div>
  </div>
</p-stepper>
